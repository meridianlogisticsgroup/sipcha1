<!doctype html>
<html lang="en" x-data="{ dark: localStorage.theme==='dark', sidebar:true }"
      x-init="$watch('dark', v => { document.documentElement.classList.toggle('theme-dark', v); localStorage.theme = v ? 'dark' : 'light'; })">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{{ title or 'Micro Admin' }}</title>
  <link href="https://cdn.jsdelivr.net/npm/@tabler/core@1.0.0-beta21/dist/css/tabler.min.css" rel="stylesheet"/>
  <link href="https://cdn.jsdelivr.net/npm/@tabler/icons-webfont@latest/tabler-icons.min.css" rel="stylesheet" />
  <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <script src="https://unpkg.com/htmx.org@2.0.3"></script>
  <script src="https://unpkg.com/hyperscript.org@0.9.12"></script>
  <style>.table tbody tr td { vertical-align: middle; }</style>
</head>
<body>
  <div class="page">
    <header class="navbar navbar-expand-md d-print-none">
      <div class="container-xl">
        <button class="navbar-toggler" type="button" @click="sidebar=!sidebar">
          <span class="navbar-toggler-icon"></span>
        </button>
        <h2 class="navbar-brand navbar-brand-autodark">Micro Admin</h2>
        <div class="navbar-nav flex-row order-md-last">
          <a href="#" class="nav-link" @click.prevent="dark=!dark" title="Toggle theme">
            <i :class="dark ? 'ti ti-moon-stars' : 'ti ti-sun'" class="ti"></i>
          </a>
        </div>
      </div>
    </header>
    <div class="page-wrapper">
      <div class="container-xl">
        <div class="row g-3">
          <aside class="col-12 col-md-3 col-xl-2" x-show="sidebar" x-transition>
            <div class="list-group list-group-transparent">
              <a href="/" class="list-group-item list-group-item-action d-flex align-items-center">
                <i class="ti ti-dashboard me-2"></i> Dashboard
              </a>
              <a href="/admins/" class="list-group-item list-group-item-action d-flex align-items-center">
                <i class="ti ti-users me-2"></i> Admins
              </a>
            </div>
          </aside>
          <main :class="sidebar ? 'col-12 col-md-9 col-xl-10' : 'col-12'">
            {% include '_toasts.html' %}
            {% block content %}{% endblock %}
          </main>
        </div>
      </div>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/@tabler/core@1.0.0-beta21/dist/js/tabler.min.js"></script>
</body>
</html>
